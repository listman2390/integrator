const HEIGHT = 25;
const DEFAULT_POSITION = 40;
var app = angular.module('createApp', ['dndLists']);

app.controller('createCtrl', function($scope, $http) {
	
	/*$http.get("/db").success(function(response) {
		$scope.schemas = response;
		$scope.tables = $scope.schemas[0].tables;
	});*/
	$scope.schemas=[{"name":"integration","tables":[{"name":"error_records_importing_job_id_index","columns":[{"name":"importing_job_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"importing_job_error_importing_job_id_index","columns":[{"name":"importing_job_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"importing_jobs_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"invalid_records_importing_job_id_index","columns":[{"name":"importing_job_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"importing_jobs_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"error_records","columns":[{"name":"importing_job_id","type":"int4"},{"name":"data","type":"text"},{"name":"type","type":"varchar"},{"name":"message","type":"text"},{"name":"details","type":"text"},{"name":"id","type":"integration"}],"primaryKeys":[],"foreignKeys":[]},{"name":"importing_job_error","columns":[{"name":"importing_job_id","type":"int4"},{"name":"type","type":"varchar"},{"name":"message","type":"text"},{"name":"details","type":"text"},{"name":"id","type":"integration"}],"primaryKeys":[],"foreignKeys":[]},{"name":"importing_jobs","columns":[{"name":"id","type":"serial"},{"name":"file","type":"varchar"},{"name":"started_at","type":"timestamp"},{"name":"finished_at","type":"timestamp"},{"name":"has_invalids","type":"bool"},{"name":"has_errors","type":"bool"},{"name":"threw_exception","type":"bool"},{"name":"id","type":"importing_jobs_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"invalid_records","columns":[{"name":"importing_job_id","type":"int4"},{"name":"data","type":"text"},{"name":"reasons","type":"text"},{"name":"id","type":"integration"}],"primaryKeys":[],"foreignKeys":[]}]},{"name":"log","tables":[{"name":"log_actions_pkey","columns":[{"name":"id","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"log_objects_pkey","columns":[{"name":"id","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"log_types_pkey","columns":[{"name":"id","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"logs_action_id_index","columns":[{"name":"action_id","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"logs_object_id_index","columns":[{"name":"object_id","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"logs_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"logs_type_id_index","columns":[{"name":"type_id","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"logs_user_id_index","columns":[{"name":"user_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"logs_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"log_actions","columns":[{"name":"id","type":"varchar"},{"name":"description","type":"text"},{"name":"id","type":"log_actions_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"log_objects","columns":[{"name":"id","type":"varchar"},{"name":"description","type":"text"},{"name":"id","type":"log_objects_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"log_types","columns":[{"name":"id","type":"varchar"},{"name":"description","type":"text"},{"name":"id","type":"log_types_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"logs","columns":[{"name":"id","type":"serial"},{"name":"action_id","type":"varchar"},{"name":"user_id","type":"int4"},{"name":"type_id","type":"varchar"},{"name":"object_id","type":"varchar"},{"name":"ip","type":"json"},{"name":"data","type":"json"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"log"},{"name":"id","type":"log"},{"name":"id","type":"log"},{"name":"id","type":"log"},{"name":"id","type":"logs_pkey"}],"primaryKeys":[],"foreignKeys":[]}]},{"name":"public","tables":[{"name":"additional_information_users_additional_information_id_index","columns":[{"name":"additional_information_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"additional_information_users_pkey","columns":[{"name":"additional_information_id","type":"int4"},{"name":"user_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"additional_information_users_user_id_index","columns":[{"name":"user_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"additional_informations_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"additional_informations_type_version_unique","columns":[{"name":"type","type":"text"},{"name":"version","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"advertising_image_advertisable_id_advertisable_type_index","columns":[{"name":"advertisable_id","type":"int4"},{"name":"advertisable_type","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"advertising_image_advertisable_id_index","columns":[{"name":"advertisable_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"advertising_image_advertisable_type_index","columns":[{"name":"advertisable_type","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"advertising_image_ends_at_index","columns":[{"name":"ends_at","type":"timestamp"}],"primaryKeys":[],"foreignKeys":[]},{"name":"advertising_image_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"advertising_image_starts_at_index","columns":[{"name":"starts_at","type":"timestamp"}],"primaryKeys":[],"foreignKeys":[]},{"name":"advertising_space_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"age_intervals_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"application_users_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"application_users_rut_unique","columns":[{"name":"rut","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"application_versions_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"application_versions_platform_number_brand_id_unique","columns":[{"name":"platform","type":"int4"},{"name":"number","type":"varchar"},{"name":"brand_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"area_dummy_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"area_types_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"areas_areable_id_index","columns":[{"name":"areable_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"areas_areable_type_index","columns":[{"name":"areable_type","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"areas_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"backgrounds_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"brands_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"corridors_index_device_unique","columns":[{"name":"index","type":"int4"},{"name":"device","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"corridors_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"db_versions_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"device_types_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"device_user_application_user_id_index","columns":[{"name":"application_user_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"device_user_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"device_user_uuid_index","columns":[{"name":"uuid","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"device_user_uuid_unique","columns":[{"name":"uuid","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"dummies_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"dummy_sortedarea_area_id_index","columns":[{"name":"area_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"dummy_sortedarea_dummy_id_index","columns":[{"name":"dummy_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"dummy_types_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"error_codes_pkey","columns":[{"name":"code","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"failed_jobs_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"faq_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"groups_name_unique","columns":[{"name":"name","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"groups_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"hooks_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"icon_types_pkey","columns":[{"name":"id","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"imageslistman_pkey","columns":[{"name":"id","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"jobs_pkey","columns":[{"name":"id","type":"int8"}],"primaryKeys":[],"foreignKeys":[]},{"name":"jobs_queue_reserved_reserved_at_index","columns":[{"name":"queue","type":"varchar"},{"name":"reserved","type":"int2"},{"name":"reserved_at","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"levels_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"linear_types_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"linears_index_subcorridor_id_unique","columns":[{"name":"index","type":"int4"},{"name":"subcorridor_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"linears_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"lists_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"mobile_phones_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"municipalities_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"municipalities_region_id_index","columns":[{"name":"region_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"municipalities_store_id_index","columns":[{"name":"store_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"offer_product_pkey","columns":[{"name":"product_id","type":"int4"},{"name":"store_id","type":"int4"},{"name":"offer_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"offer_types_pkey","columns":[{"name":"id","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"offers_offer_id_retail_unique","columns":[{"name":"offer_id_retail","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"offers_offer_type_index","columns":[{"name":"offer_type","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"offers_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"periods_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"permission_role_role_id_permission_id_unique","columns":[{"name":"role_id","type":"int4"},{"name":"permission_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"permissions_name_index","columns":[{"name":"name","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"permissions_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"price_styles_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"product_sortedarea_area_id_index","columns":[{"name":"area_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"product_sortedarea_product_id_index","columns":[{"name":"product_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"product_sponsored_tag_product_id_index","columns":[{"name":"product_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"product_sponsored_tag_tag_id_index","columns":[{"name":"tag_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"product_tag_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"products_image_index","columns":[{"name":"image","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"products_is_web_index","columns":[{"name":"is_web","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"products_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"products_sale_type_index","columns":[{"name":"sale_type","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"products_trademark_id_index","columns":[{"name":"trademark_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"products_uuid_unique","columns":[{"name":"uuid","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"recommendation_linear_products_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"recommendation_linears_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"recommendation_linears_product_id_unique","columns":[{"name":"product_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"recurrent_product_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"references_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"regions_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"role_user_role_id_user_id_unique","columns":[{"name":"role_id","type":"int4"},{"name":"user_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"roles_name_index","columns":[{"name":"name","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"roles_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sale_types_pkey","columns":[{"name":"id","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"secondary_images_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"secondary_images_type_product_id_unique","columns":[{"name":"type","type":"varchar"},{"name":"product_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"shelves_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"signs_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sortedareas_area_id_index","columns":[{"name":"area_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sortedareas_area_type_id_index","columns":[{"name":"area_type_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sortedareas_linear_id_index","columns":[{"name":"linear_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sortedareas_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sortedlinears_current_index","columns":[{"name":"current","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sortedlinears_index_index","columns":[{"name":"index","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sortedlinears_linear_id_index","columns":[{"name":"linear_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sortedlinears_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sortedlinears_store_id_index","columns":[{"name":"store_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sortedlinears_subcorridor_id_index","columns":[{"name":"subcorridor_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sortedwhims_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sortingjobs_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sortingjobs_subcorridor_id_index","columns":[{"name":"subcorridor_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"store_db_versions_device_index","columns":[{"name":"device","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"store_db_versions_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"store_db_versions_store_id_index","columns":[{"name":"store_id","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"store_db_versions_version_number_index","columns":[{"name":"version_number","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"store_product_availabilities_pkey","columns":[{"name":"store_id","type":"int4"},{"name":"product_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"store_product_availabilities_product_id_index","columns":[{"name":"product_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"store_product_availabilities_store_id_index","columns":[{"name":"store_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"store_product_prices_pkey","columns":[{"name":"store_id","type":"int4"},{"name":"product_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"stores_name_unique","columns":[{"name":"name","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"stores_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"street_types_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"struct_shelf_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"struct_shelf_shelf_id_index","columns":[{"name":"shelf_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"struct_shelf_struct_id_index","columns":[{"name":"struct_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"structs_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sub_corridors_index_corridor_id_unique","columns":[{"name":"index","type":"int4"},{"name":"corridor_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sub_corridors_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"substitution_criteria_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"tags_name_index","columns":[{"name":"name","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"tags_name_unique","columns":[{"name":"name","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"tags_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"telephone_codes_pkey","columns":[{"name":"id","type":"text"}],"primaryKeys":[],"foreignKeys":[]},{"name":"template_areas_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"throttle_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"throttle_user_id_index","columns":[{"name":"user_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"trademarks_name_unique","columns":[{"name":"name","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"trademarks_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"users_activation_code_index","columns":[{"name":"activation_code","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"users_email_unique","columns":[{"name":"email","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"users_groups_pkey","columns":[{"name":"user_id","type":"int4"},{"name":"group_id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"users_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"users_reset_password_code_index","columns":[{"name":"reset_password_code","type":"varchar"}],"primaryKeys":[],"foreignKeys":[]},{"name":"whimareas_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"whims_pkey","columns":[{"name":"id","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"additional_informations_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"advertising_image_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"advertising_space_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"age_intervals_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"application_users_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"application_versions_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"area_dummy_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"area_types_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"areas_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"backgrounds_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"brands_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"corridors_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"db_versions_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"device_types_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"device_user_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"dummies_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"dummy_types_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"failed_jobs_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"faq_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"groups_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"hooks_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"jobs_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"levels_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"linear_types_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"linears_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"lists_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"mobile_phones_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"offers_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"periods_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"permissions_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"price_styles_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"product_tag_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"products_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"recommendation_linear_products_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"recommendation_linears_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"recurrent_product_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"references_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"roles_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"secondary_images_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"shelves_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"signs_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sortedareas_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sortedlinears_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sortedwhims_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sortingjobs_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"store_db_versions_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"struct_shelf_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"structs_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sub_corridors_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"tags_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"template_areas_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"throttle_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"trademarks_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"users_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"whimareas_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"whims_id_seq","columns":[{"name":"sequence_name","type":"name"},{"name":"last_value","type":"int8"},{"name":"start_value","type":"int8"},{"name":"increment_by","type":"int8"},{"name":"max_value","type":"int8"},{"name":"min_value","type":"int8"},{"name":"cache_value","type":"int8"},{"name":"log_cnt","type":"int8"},{"name":"is_cycled","type":"bool"},{"name":"is_called","type":"bool"}],"primaryKeys":[],"foreignKeys":[]},{"name":"additional_information_users","columns":[{"name":"additional_information_id","type":"int4"},{"name":"user_id","type":"int4"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"additional_information_id","type":"additional_information_users_pkey"},{"name":"user_id","type":"additional_information_users_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"additional_informations","columns":[{"name":"id","type":"serial"},{"name":"description","type":"text"},{"name":"type","type":"text"},{"name":"version","type":"int4"},{"name":"published","type":"bool"},{"name":"id","type":"additional_informations_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"advertising_image","columns":[{"name":"id","type":"serial"},{"name":"advertisable_id","type":"int4"},{"name":"advertisable_type","type":"varchar"},{"name":"starts_at","type":"timestamp"},{"name":"ends_at","type":"timestamp"},{"name":"image","type":"varchar"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"advertising_image_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"advertising_space","columns":[{"name":"id","type":"serial"},{"name":"type","type":"varchar"},{"name":"device","type":"int4"},{"name":"default_image","type":"varchar"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"advertising_space_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"age_intervals","columns":[{"name":"id","type":"serial"},{"name":"start_age","type":"int4"},{"name":"end_age","type":"int4"},{"name":"gender","type":"varchar"},{"name":"level_id","type":"int4"},{"name":"deleted_at","type":"timestamp"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"public"},{"name":"id","type":"age_intervals_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"application_users","columns":[{"name":"id","type":"serial"},{"name":"rut","type":"varchar"},{"name":"receive_news","type":"bool"},{"name":"gender","type":"varchar"},{"name":"birth_date","type":"date"},{"name":"image","type":"varchar"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"phone","type":"varchar"},{"name":"id","type":"application_users_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"application_versions","columns":[{"name":"id","type":"serial"},{"name":"platform","type":"int4"},{"name":"number","type":"varchar"},{"name":"force_update","type":"bool"},{"name":"brand_id","type":"int4"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"public"},{"name":"id","type":"application_versions_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"area_dummy","columns":[{"name":"id","type":"serial"},{"name":"area_id","type":"int4"},{"name":"dummy_id","type":"int4"},{"name":"x","type":"float8"},{"name":"y","type":"float8"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"area_dummy_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"area_product","columns":[{"name":"area_id","type":"int4"},{"name":"product_id","type":"int4"},{"name":"x","type":"float8"},{"name":"y","type":"float8"},{"name":"deleted_at","type":"timestamp"},{"name":"id","type":"public"},{"name":"id","type":"public"}],"primaryKeys":[],"foreignKeys":[]},{"name":"area_types","columns":[{"name":"id","type":"serial"},{"name":"name","type":"varchar"},{"name":"deleted_at","type":"timestamp"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"area_types_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"areas","columns":[{"name":"id","type":"serial"},{"name":"area_type_id","type":"int4"},{"name":"x","type":"float8"},{"name":"y","type":"float8"},{"name":"w","type":"float8"},{"name":"h","type":"float8"},{"name":"price_y_offset","type":"float8"},{"name":"areable_id","type":"int4"},{"name":"areable_type","type":"varchar"},{"name":"deleted_at","type":"timestamp"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"public"},{"name":"id","type":"areas_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"backgrounds","columns":[{"name":"id","type":"serial"},{"name":"name","type":"varchar"},{"name":"image","type":"varchar"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"deleted_at","type":"timestamp"},{"name":"id","type":"backgrounds_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"brands","columns":[{"name":"id","type":"serial"},{"name":"name","type":"varchar"},{"name":"id","type":"brands_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"corridors","columns":[{"name":"id","type":"serial"},{"name":"name","type":"varchar"},{"name":"icon","type":"varchar"},{"name":"index","type":"int4"},{"name":"type","type":"int4"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"deleted_at","type":"timestamp"},{"name":"device","type":"int4"},{"name":"id","type":"public"},{"name":"id","type":"corridors_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"db_versions","columns":[{"name":"id","type":"serial"},{"name":"version_number","type":"int4"},{"name":"timestamp","type":"timestamp"},{"name":"db_path","type":"varchar"},{"name":"is_published","type":"bool"},{"name":"id","type":"db_versions_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"device_types","columns":[{"name":"id","type":"serial"},{"name":"name","type":"varchar"},{"name":"id","type":"device_types_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"device_user","columns":[{"name":"id","type":"serial"},{"name":"application_user_id","type":"int4"},{"name":"platform","type":"int4"},{"name":"uuid","type":"varchar"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"sandbox","type":"bool"},{"name":"id","type":"device_user_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"dummies","columns":[{"name":"id","type":"serial"},{"name":"name","type":"varchar"},{"name":"dummy_type_id","type":"int4"},{"name":"cm_height","type":"float8"},{"name":"cm_width","type":"float8"},{"name":"start_date","type":"timestamp"},{"name":"end_date","type":"timestamp"},{"name":"deleted_at","type":"timestamp"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"public"},{"name":"id","type":"dummies_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"dummy_sortedarea","columns":[{"name":"area_id","type":"int4"},{"name":"dummy_id","type":"int4"},{"name":"x","type":"float8"},{"name":"y","type":"float8"},{"name":"id","type":"public"},{"name":"id","type":"public"}],"primaryKeys":[],"foreignKeys":[]},{"name":"dummy_types","columns":[{"name":"id","type":"serial"},{"name":"type","type":"varchar"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"dummy_types_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"dummy_whimarea","columns":[{"name":"area_id","type":"int4"},{"name":"dummy_id","type":"int4"},{"name":"x","type":"float8"},{"name":"y","type":"float8"},{"name":"id","type":"public"},{"name":"id","type":"public"}],"primaryKeys":[],"foreignKeys":[]},{"name":"error_codes","columns":[{"name":"code","type":"varchar"},{"name":"description","type":"text"},{"name":"deleted_at","type":"timestamp"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"type","type":"varchar"},{"name":"code","type":"error_codes_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"failed_jobs","columns":[{"name":"id","type":"serial"},{"name":"connection","type":"text"},{"name":"queue","type":"text"},{"name":"payload","type":"text"},{"name":"failed_at","type":"timestamp"},{"name":"id","type":"failed_jobs_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"faq","columns":[{"name":"id","type":"serial"},{"name":"question","type":"text"},{"name":"answer","type":"text"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"faq_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"groups","columns":[{"name":"id","type":"serial"},{"name":"name","type":"varchar"},{"name":"permissions","type":"text"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"groups_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"hooks","columns":[{"name":"id","type":"serial"},{"name":"name","type":"varchar"},{"name":"image","type":"varchar"},{"name":"front_image","type":"varchar"},{"name":"back_image","type":"varchar"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"hooks_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"icon_types","columns":[{"name":"id","type":"varchar"},{"name":"type","type":"text"},{"name":"id","type":"icon_types_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"imageslistman","columns":[{"name":"id","type":"varchar"},{"name":"id","type":"imageslistman_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"jobs","columns":[{"name":"id","type":"bigserial"},{"name":"queue","type":"varchar"},{"name":"payload","type":"text"},{"name":"attempts","type":"int2"},{"name":"reserved","type":"int2"},{"name":"reserved_at","type":"int4"},{"name":"available_at","type":"int4"},{"name":"created_at","type":"int4"},{"name":"id","type":"jobs_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"level_product","columns":[{"name":"level_id","type":"int4"},{"name":"product_id","type":"int4"},{"name":"id","type":"public"},{"name":"id","type":"public"}],"primaryKeys":[],"foreignKeys":[]},{"name":"level_store","columns":[{"name":"level_id","type":"int4"},{"name":"store_id","type":"int4"},{"name":"id","type":"public"},{"name":"id","type":"public"}],"primaryKeys":[],"foreignKeys":[]},{"name":"level_user","columns":[{"name":"level_id","type":"int4"},{"name":"user_id","type":"int4"},{"name":"id","type":"public"}],"primaryKeys":[],"foreignKeys":[]},{"name":"levels","columns":[{"name":"id","type":"serial"},{"name":"dummy_id","type":"int4"},{"name":"product_id","type":"int4"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"levels_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"linear_types","columns":[{"name":"id","type":"serial"},{"name":"type","type":"varchar"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"linear_types_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"linears","columns":[{"name":"id","type":"serial"},{"name":"subcorridor_id","type":"int4"},{"name":"name","type":"varchar"},{"name":"index","type":"int4"},{"name":"collapsible","type":"bool"},{"name":"size_index","type":"numeric"},{"name":"active","type":"bool"},{"name":"background","type":"varchar"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"deleted_at","type":"timestamp"},{"name":"type","type":"int4"},{"name":"struct_id","type":"int4"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"linears_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"list_product","columns":[{"name":"list_id","type":"int4"},{"name":"product_id","type":"int4"},{"name":"index","type":"int4"},{"name":"weight_grams","type":"float8"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"weight_kilos","type":"float8"},{"name":"units","type":"int4"},{"name":"observations","type":"text"},{"name":"sale_type","type":"varchar"},{"name":"id","type":"public"},{"name":"id","type":"public"}],"primaryKeys":[],"foreignKeys":[]},{"name":"lists","columns":[{"name":"id","type":"serial"},{"name":"name","type":"varchar"},{"name":"type","type":"int2"},{"name":"author","type":"varchar"},{"name":"image","type":"varchar"},{"name":"user_id","type":"int4"},{"name":"publish_date","type":"timestamp"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"deleted_at","type":"timestamp"},{"name":"id","type":"lists_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"migrations","columns":[{"name":"migration","type":"varchar"},{"name":"batch","type":"int4"}],"primaryKeys":[],"foreignKeys":[]},{"name":"mobile_phones","columns":[{"name":"id","type":"serial"},{"name":"number","type":"text"},{"name":"type","type":"text"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"mobile_phones_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"municipalities","columns":[{"name":"id","type":"int4"},{"name":"name","type":"varchar"},{"name":"region_id","type":"int4"},{"name":"store_id","type":"int4"},{"name":"deleted_at","type":"timestamp"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"municipalities_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"offer_product","columns":[{"name":"offer_id","type":"int4"},{"name":"product_id","type":"int4"},{"name":"store_id","type":"int4"},{"name":"deleted_at","type":"timestamp"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"product_id","type":"offer_product_pkey"},{"name":"store_id","type":"offer_product_pkey"},{"name":"offer_id","type":"offer_product_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"offer_types","columns":[{"name":"id","type":"varchar"},{"name":"description","type":"varchar"},{"name":"id","type":"offer_types_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"offers","columns":[{"name":"id","type":"serial"},{"name":"offer_type","type":"varchar"},{"name":"offer_id_retail","type":"varchar"},{"name":"name","type":"varchar"},{"name":"description","type":"varchar"},{"name":"banner","type":"varchar"},{"name":"starts_on","type":"timestamp"},{"name":"ends_on","type":"timestamp"},{"name":"params","type":"text"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"deleted_at","type":"timestamp"},{"name":"id","type":"public"},{"name":"id","type":"offers_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"periods","columns":[{"name":"id","type":"serial"},{"name":"start_date","type":"timestamp"},{"name":"end_date","type":"timestamp"},{"name":"list_id","type":"int4"},{"name":"id","type":"public"},{"name":"id","type":"periods_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"permission_role","columns":[{"name":"role_id","type":"int4"},{"name":"permission_id","type":"int4"},{"name":"id","type":"public"},{"name":"id","type":"public"}],"primaryKeys":[],"foreignKeys":[]},{"name":"permissions","columns":[{"name":"id","type":"serial"},{"name":"name","type":"varchar"},{"name":"description","type":"text"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"deleted_at","type":"timestamp"},{"name":"id","type":"permissions_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"price_styles","columns":[{"name":"id","type":"serial"},{"name":"name","type":"varchar"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"price_styles_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"product_sortedarea","columns":[{"name":"area_id","type":"int4"},{"name":"product_id","type":"int4"},{"name":"x","type":"float8"},{"name":"y","type":"float8"},{"name":"is_available","type":"bool"},{"name":"id","type":"public"},{"name":"id","type":"public"}],"primaryKeys":[],"foreignKeys":[]},{"name":"product_sponsored_tag","columns":[{"name":"product_id","type":"int4"},{"name":"tag_id","type":"int4"},{"name":"id","type":"public"},{"name":"id","type":"public"}],"primaryKeys":[],"foreignKeys":[]},{"name":"product_tag","columns":[{"name":"id","type":"serial"},{"name":"product_id","type":"int4"},{"name":"tag_id","type":"int4"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"product_tag_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"product_whimarea","columns":[{"name":"area_id","type":"int4"},{"name":"product_id","type":"int4"},{"name":"x","type":"float8"},{"name":"y","type":"float8"},{"name":"is_available","type":"bool"},{"name":"id","type":"public"},{"name":"id","type":"public"}],"primaryKeys":[],"foreignKeys":[]},{"name":"products","columns":[{"name":"id","type":"serial"},{"name":"trademark_id","type":"int4"},{"name":"sale_unit","type":"varchar"},{"name":"name","type":"varchar"},{"name":"sale_type","type":"varchar"},{"name":"description","type":"varchar"},{"name":"maximum_quantity","type":"float8"},{"name":"minimum_quantity","type":"int4"},{"name":"sap_id","type":"varchar"},{"name":"uuid","type":"varchar"},{"name":"pack_size","type":"float8"},{"name":"banner_name","type":"varchar"},{"name":"banner_description","type":"varchar"},{"name":"image","type":"varchar"},{"name":"new_photo","type":"bool"},{"name":"width","type":"int4"},{"name":"height","type":"int4"},{"name":"cm_height","type":"float8"},{"name":"cm_width","type":"float8"},{"name":"hook_x","type":"float8"},{"name":"hook_y","type":"float8"},{"name":"is_web","type":"bool"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"deleted_at","type":"timestamp"},{"name":"area_type_id","type":"int4"},{"name":"more_data","type":"text"},{"name":"show_description","type":"bool"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"products_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"recommendation_linear_products","columns":[{"name":"id","type":"serial"},{"name":"recommendations_linear_id","type":"int4"},{"name":"recommended_product_id","type":"int4"},{"name":"x","type":"float8"},{"name":"y","type":"float8"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"recommendation_linear_products_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"recommendation_linears","columns":[{"name":"id","type":"serial"},{"name":"size_index","type":"numeric"},{"name":"product_id","type":"int4"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"public"},{"name":"id","type":"recommendation_linears_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"recurrent_product","columns":[{"name":"id","type":"serial"},{"name":"start_date","type":"date"},{"name":"end_date","type":"date"},{"name":"product_id","type":"int4"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"number_purchases","type":"int4"},{"name":"id","type":"public"},{"name":"id","type":"recurrent_product_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"references","columns":[{"name":"id","type":"serial"},{"name":"name","type":"varchar"},{"name":"image","type":"varchar"},{"name":"w_px","type":"int4"},{"name":"h_px","type":"int4"},{"name":"w_cm","type":"float8"},{"name":"h_cm","type":"float8"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"deleted_at","type":"timestamp"},{"name":"area_type_id","type":"int4"},{"name":"id","type":"public"},{"name":"id","type":"references_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"regions","columns":[{"name":"id","type":"int4"},{"name":"name","type":"varchar"},{"name":"deleted_at","type":"timestamp"},{"name":"priority","type":"int4"},{"name":"id","type":"regions_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"related_products","columns":[{"name":"product_id","type":"int4"},{"name":"related_product_id","type":"int4"},{"name":"index","type":"int4"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"deleted_at","type":"timestamp"},{"name":"id","type":"public"},{"name":"id","type":"public"}],"primaryKeys":[],"foreignKeys":[]},{"name":"role_user","columns":[{"name":"role_id","type":"int4"},{"name":"user_id","type":"int4"},{"name":"id","type":"public"},{"name":"id","type":"public"}],"primaryKeys":[],"foreignKeys":[]},{"name":"roles","columns":[{"name":"id","type":"serial"},{"name":"name","type":"varchar"},{"name":"description","type":"text"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"deleted_at","type":"timestamp"},{"name":"id","type":"roles_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sale_types","columns":[{"name":"id","type":"varchar"},{"name":"description","type":"varchar"},{"name":"id","type":"sale_types_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"secondary_images","columns":[{"name":"id","type":"serial"},{"name":"image","type":"varchar"},{"name":"type","type":"varchar"},{"name":"width","type":"int4"},{"name":"height","type":"int4"},{"name":"product_id","type":"int4"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"public"},{"name":"id","type":"secondary_images_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"shelves","columns":[{"name":"id","type":"serial"},{"name":"image","type":"varchar"},{"name":"name","type":"varchar"},{"name":"w","type":"int4"},{"name":"h","type":"int4"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"deleted_at","type":"timestamp"},{"name":"id","type":"shelves_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"signs","columns":[{"name":"id","type":"serial"},{"name":"name","type":"varchar"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"signs_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sortedareas","columns":[{"name":"id","type":"serial"},{"name":"area_id","type":"int4"},{"name":"area_type_id","type":"int4"},{"name":"linear_id","type":"int4"},{"name":"x","type":"float8"},{"name":"y","type":"float8"},{"name":"w","type":"float8"},{"name":"h","type":"float8"},{"name":"price_y_offset","type":"float8"},{"name":"deleted_at","type":"timestamp"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"sortedareas_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sortedlinears","columns":[{"name":"id","type":"serial"},{"name":"linear_id","type":"int4"},{"name":"subcorridor_id","type":"int4"},{"name":"name","type":"varchar"},{"name":"index","type":"int4"},{"name":"collapsible","type":"bool"},{"name":"size_index","type":"numeric"},{"name":"active","type":"bool"},{"name":"background","type":"varchar"},{"name":"price_style_id","type":"int4"},{"name":"sign_id","type":"int4"},{"name":"hook_id","type":"int4"},{"name":"type","type":"int4"},{"name":"store_id","type":"int4"},{"name":"current","type":"bool"},{"name":"sortingjob_id","type":"int4"},{"name":"struct_id","type":"int4"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"deleted_at","type":"timestamp"},{"name":"preview_image","type":"text"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"sortedlinears_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sortedwhims","columns":[{"name":"id","type":"serial"},{"name":"whim_id","type":"int4"},{"name":"device","type":"int4"},{"name":"name","type":"varchar"},{"name":"index","type":"int4"},{"name":"size_index","type":"float8"},{"name":"store_id","type":"varchar"},{"name":"current","type":"bool"},{"name":"struct_id","type":"int4"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"sortedwhims_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sortingjobs","columns":[{"name":"id","type":"serial"},{"name":"action","type":"varchar"},{"name":"subcorridor_id","type":"int4"},{"name":"information","type":"text"},{"name":"done","type":"bool"},{"name":"done_at","type":"timestamp"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"deleted_at","type":"timestamp"},{"name":"id","type":"sortingjobs_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"store_db_versions","columns":[{"name":"id","type":"serial"},{"name":"store_id","type":"varchar"},{"name":"device","type":"int4"},{"name":"version_number","type":"int4"},{"name":"timestamp","type":"timestamp"},{"name":"is_published","type":"bool"},{"name":"id","type":"store_db_versions_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"store_product_availabilities","columns":[{"name":"product_id","type":"int4"},{"name":"store_id","type":"int4"},{"name":"published","type":"bool"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"deleted_at","type":"timestamp"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"store_id","type":"store_product_availabilities_pkey"},{"name":"product_id","type":"store_product_availabilities_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"store_product_prices","columns":[{"name":"product_id","type":"int4"},{"name":"store_id","type":"int4"},{"name":"price","type":"int4"},{"name":"price_str","type":"varchar"},{"name":"pum","type":"varchar"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"deleted_at","type":"timestamp"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"store_id","type":"store_product_prices_pkey"},{"name":"product_id","type":"store_product_prices_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"stores","columns":[{"name":"id","type":"int4"},{"name":"name","type":"varchar"},{"name":"code","type":"varchar"},{"name":"address","type":"varchar"},{"name":"click_collect","type":"bool"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"deleted_at","type":"timestamp"},{"name":"id","type":"stores_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"street_types","columns":[{"name":"id","type":"int4"},{"name":"name","type":"text"},{"name":"id","type":"street_types_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"struct_shelf","columns":[{"name":"id","type":"serial"},{"name":"struct_id","type":"int4"},{"name":"shelf_id","type":"int4"},{"name":"x","type":"float8"},{"name":"y","type":"float8"},{"name":"w","type":"float8"},{"name":"h","type":"float8"},{"name":"deleted_at","type":"timestamp"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"struct_shelf_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"structs","columns":[{"name":"id","type":"serial"},{"name":"name","type":"varchar"},{"name":"background","type":"varchar"},{"name":"is_template","type":"bool"},{"name":"parent_struct_id","type":"int4"},{"name":"price_style_id","type":"int4"},{"name":"sign_id","type":"int4"},{"name":"hook_id","type":"int4"},{"name":"backup_shelf_id","type":"int4"},{"name":"device","type":"int4"},{"name":"type","type":"int4"},{"name":"deleted_at","type":"timestamp"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"structs_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"sub_corridors","columns":[{"name":"id","type":"serial"},{"name":"corridor_id","type":"int4"},{"name":"name","type":"varchar"},{"name":"icon","type":"varchar"},{"name":"index","type":"int4"},{"name":"type","type":"int4"},{"name":"background","type":"varchar"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"deleted_at","type":"timestamp"},{"name":"struct_id","type":"int4"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"sub_corridors_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"substitution_criteria","columns":[{"name":"id","type":"int4"},{"name":"description","type":"text"},{"name":"deleted_at","type":"timestamp"},{"name":"id","type":"substitution_criteria_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"tags","columns":[{"name":"id","type":"serial"},{"name":"name","type":"varchar"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"tags_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"telephone_codes","columns":[{"name":"id","type":"text"},{"name":"value","type":"text"},{"name":"id","type":"telephone_codes_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"template_areas","columns":[{"name":"id","type":"serial"},{"name":"area_type_id","type":"int4"},{"name":"struct_id","type":"int4"},{"name":"x","type":"float8"},{"name":"y","type":"float8"},{"name":"w","type":"float8"},{"name":"h","type":"float8"},{"name":"price_y_offset","type":"float8"},{"name":"deleted_at","type":"timestamp"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"template_areas_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"throttle","columns":[{"name":"id","type":"serial"},{"name":"user_id","type":"int4"},{"name":"ip_address","type":"varchar"},{"name":"attempts","type":"int4"},{"name":"suspended","type":"bool"},{"name":"banned","type":"bool"},{"name":"last_attempt_at","type":"timestamp"},{"name":"suspended_at","type":"timestamp"},{"name":"banned_at","type":"timestamp"},{"name":"id","type":"throttle_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"trademarks","columns":[{"name":"id","type":"serial"},{"name":"name","type":"varchar"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"trademarks_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"users","columns":[{"name":"id","type":"serial"},{"name":"email","type":"varchar"},{"name":"password","type":"varchar"},{"name":"permissions","type":"text"},{"name":"activated","type":"bool"},{"name":"activation_code","type":"varchar"},{"name":"activated_at","type":"timestamp"},{"name":"last_login","type":"timestamp"},{"name":"persist_code","type":"varchar"},{"name":"reset_password_code","type":"varchar"},{"name":"first_name","type":"varchar"},{"name":"last_name","type":"varchar"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"users_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"users_groups","columns":[{"name":"user_id","type":"int4"},{"name":"group_id","type":"int4"},{"name":"user_id","type":"users_groups_pkey"},{"name":"group_id","type":"users_groups_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"whimareas","columns":[{"name":"id","type":"serial"},{"name":"area_type_id","type":"int4"},{"name":"whim_id","type":"int4"},{"name":"area_id","type":"int4"},{"name":"x","type":"float8"},{"name":"y","type":"float8"},{"name":"w","type":"float8"},{"name":"h","type":"float8"},{"name":"price_y_offset","type":"float8"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"id","type":"public"},{"name":"id","type":"whimareas_pkey"}],"primaryKeys":[],"foreignKeys":[]},{"name":"whims","columns":[{"name":"id","type":"serial"},{"name":"name","type":"varchar"},{"name":"index","type":"int4"},{"name":"size_index","type":"numeric"},{"name":"background","type":"varchar"},{"name":"struct_id","type":"int4"},{"name":"device","type":"int4"},{"name":"created_at","type":"timestamp"},{"name":"updated_at","type":"timestamp"},{"name":"deleted_at","type":"timestamp"},{"name":"id","type":"public"},{"name":"id","type":"public"},{"name":"id","type":"whims_pkey"}],"primaryKeys":[],"foreignKeys":[]}]}];
	$scope.columns = [];
	$scope.separators = [ '|', ',' ];
	$scope.selectedSeparator = '|';
	$scope.selectedSchema = {};
	$scope.selectedTable = '';
	$scope.column = 0;
	$scope.item = {};
	$scope.columns =[];
	$scope.selectedTables = [];
	$scope.line = [];
	$scope.objectSelected = null;
	
	$scope.models = {
		selected : null, 
		lists : {
			"Columns" : []
		}
	};
	
	$scope.changeSchema = function (){
		$scope.tables = JSON.parse($scope.selectedSchema).tables;
	}

	$scope.addColumn = function (){
		$scope.columns.push({
			name : "Column "+$scope.columns.length
		});
		$scope.render();
	}
	
	$scope.show = function(item, list){
		var datos = list.replace(/-/g, ".").split('.');
		
		var schema = $scope.findSchema(datos[0]);
				
		schema.tables.forEach(function (table){
			if(table.name == datos[1]){
				$scope.columns = table.columns
			}
		})
	}
	
	$scope.addTable = function (){
		var table = JSON.parse($scope.selectedTable);
		table.schema = JSON.parse($scope.selectedSchema).name;
		$scope.selectedTables.push(table);
		$scope.render();
	}
	
	$scope.findSchema = function (name){
		var schemaTarget ={};
		$scope.schemas.forEach(function (schema){
			if(schema.name == name){
				schemaTarget = schema;
			}
		});
		
		return schemaTarget;
	}
	
	$scope.$watch('models', function(model) {
		$scope.modelAsJson = angular.toJson(model, true);
	}, true);
	



	$scope.render = function (){
		var c = document.getElementById("myCanvas");
		var canvas = c.getContext("2d");
		canvas.fillStyle = "#FFFFFf";
		canvas.fillRect(0,0,1000,2500);
		canvas.fillStyle = "#000000";

		if(	$scope.line.length == 2 ){
			$scope.drawLine(canvas,$scope.line[0].x,$scope.line[0].y,$scope.line[1].x,$scope.line[1].y);
		}		
		
		$scope.selectedTables.forEach(function (table){
			if( typeof table.x == 'undefined'){
				table.x = DEFAULT_POSITION;
				table.y = DEFAULT_POSITION;
			}
			$scope.drawTable( canvas, table );
			
		});
		
		$scope.drawColumns(canvas, $scope.columns);
		
	}
	
	$scope.drawLine= function (canvas,x,y,x1,y1){
		canvas.beginPath();
		canvas.moveTo(x, y);
		canvas.lineTo(x1,y1);
		canvas.stroke();;
	}

	$scope.drawColumns =function (canvas, columns){	
		const COLUMN_WIDTH = 300;
		const DEFAULT_WIDTH = 100;
		columns.forEach(function (column, index){

			var background = $scope.background($scope.columClicked, column.name);
			column.x = COLUMN_WIDTH;
			column.y = HEIGHT *  index  + DEFAULT_POSITION;
			column.w = DEFAULT_WIDTH;
			column.h = HEIGHT;
			$scope.drawRow(canvas, column.x, column.y, column.w, column.h, columns.name, background);
			
		});

	}

	$scope.drawRow = function(canvas,x,y,w,h, text, background){

		canvas.fillStyle = background;
		canvas.fillRect(x, y, w, h);
		canvas.fillStyle = "#000000";
		canvas.strokeRect(x,y,w,h);
		canvas.font = "15px Arial";
		canvas.fillText(text, x+5, y+17);

	}

	$scope.drawTable = function ( canvas, table ){		
		const ADDITIONAL_SPACE = 10;
		var maxWidth = $scope.calculateWidth(table) * ADDITIONAL_SPACE;
		var background = $scope.background($scope.tableClicked, table.name);

		table.w = maxWidth;
		table.h = HEIGHT;
		$scope.drawRow(canvas, table.x, table.y, table.w, table.h, table.name, background);		
		
		table.columns.forEach( function (column, index){

			background = $scope.background($scope.tableColumClicked, column.name);
			column.x = table.x;
			column.y = table.y + (height * (index + 1)); 
			column.w = maxWidth;
			column.h = HEIGHT;

			$scope.drawRow(canvas, column.x, column.y, column.w, column.h, column.name, background);	
		});
	}

	$scope.background = function (element, name){
		return element != null && element.name == name ? "#4BB4AE" :"#FFF28E";
	}
    
	$scope.calculateWidth = function(table){
		var maxWidth = 0;
		table.columns.forEach(function (column){
			
			if(maxWidth < column.name.length){
				maxWidth=column.name.length;
			}

		});
		
		if(maxWidth < table.name.length){
			maxWidth = table.name.length;
		}
		
		return maxWidth;		
	}
	
	$scope.addEventClick = function () {
		var canvas = document.getElementById("myCanvas");
		canvas.addEventListener('click', function(evt) {
		        var mousePos = $scope.getMousePos(canvas, evt);		        
		        console.log("MOUSE CLICK");
		        if($scope.line.length == 2){
		        	$scope.line = [];
		        }
		        $scope.line.push(mousePos);
		        
		        $scope.columClicked = $scope.search( $scope.columns, mousePos.x , mousePos.y);
		        $scope.tableClicked = $scope.search( $scope.selectedTables, mousePos.x , mousePos.y);
				if($scope.selectedTables != null && $scope.selectedTables.length > 0){
		        	$scope.tableColumClicked = $scope.search( $scope.selectedTables[0].columns, mousePos.x , mousePos.y);
		        }

		        $scope.render();
		}, false);
		
	}

	$scope.addEventMouseDown = function (){
		var canvas = document.getElementById("myCanvas");
		canvas.addEventListener('mousedown', function(evt) {
				console.log("MOUSE DOWN");
				var mousePos = $scope.getMousePos(canvas, evt);

				$scope.objectSelected =  $scope.search( $scope.columns, mousePos.x , mousePos.y);
				if($scope.objectSelected == null){
		        	$scope.objectSelected  = $scope.search( $scope.selectedTables, mousePos.x , mousePos.y);
					
					if($scope.objectSelected == null && $scope.selectedTables != null && $scope.selectedTables.length > 0){
			        	$scope.objectSelected  = $scope.search( $scope.selectedTables[0].columns, mousePos.x , mousePos.y);
			        }
		    	}
		});
	}

	$scope.addEventMouseUp = function (){
		var canvas = document.getElementById("myCanvas");
		canvas.addEventListener('mouseup', function(evt) {
				console.log("MOUSE UP");
		    	$scope.objectSelected = null;
		});
	}

	$scope.addEventMouseMove = function (){
		var canvas = document.getElementById("myCanvas");
		canvas.addEventListener('mousemove', function(evt) {
				var mousePos = $scope.getMousePos(canvas, evt);				
				if( $scope.objectSelected != null ){
					$scope.objectSelected.x = mousePos.x;
					$scope.objectSelected.y = mousePos.y;
					$scope.render();
				}

		});
	}

	$scope.search = function (list, x, y){
		
		for(var i=0;i < list.length; i++){
			var data = list[i];
			if( x >= data.x && x <= (data.x + data.w) &&
				y >= data.y && y <= (data.y + data.h)){
				return data;
			}
		}
		
		return null;
	}
	
	$scope.getMousePos = function(canvas, evt) {
	    var rect = canvas.getBoundingClientRect();
	    return {
	          x: evt.clientX - rect.left,
	          y: evt.clientY - rect.top
	    };
	}


	$scope.addEventClick();
	$scope.addEventMouseDown();
	$scope.addEventMouseMove();
	$scope.addEventMouseUp();
	$scope.render();

});

